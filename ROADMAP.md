# 路线图

[简体中文](ROADMAP.md) | [English](ROADMAP.en.md)

## 更新 v1.1.6
- 新增：插件「editor-enhancer」支持 `/` 指令菜单，并上架扩展市场
- 修复：另存为 PDF 时分页异常（减少半行被截断）
- 改进：PDF 导出速度
- 改进：WebDAV 同步支持非 443 端口
- 修复：Windows 最大化状态下，下拉还原被自定义 resize 误判的问题
- 调整：ImgLa 图床增加优惠码提示文案

## 更新 v1.1.5
- 修复：所见模式插入表格位置错误问题
- 修复：内置插件「图床相册」删除图片对兰空（Lsky Pro+）图床无效的问题
- 改进：兰空（Lsky Pro+）图床存储位置改为下拉选择
- 改进：上传失败后回退到本地（不再回退为 base64）

## 更新 v1.1.4
- 新增：库侧栏展开/隐藏快捷键 `Ctrl+Shift+Z`
- 改进：关于窗口新增快捷键说明（快捷键列表展示更清晰）
- 改进：分屏模式下库侧栏触发热区缩小，减少误触
- 调整：菜单/扩展市场/语言选择图标更新

## 更新 v1.1.3
- 新增：兰空（Lsky Pro+）图床支持（兼容 ImgLa，可配置接口地址）
- 修复：复制粘贴代码时 HTML 清洗导致的格式问题
- 调整：内置插件「图床管理」文案更新；图床类型下拉描述优化（S3/R2 图床、兰空/ImgLa 图床）
- 修复：内置插件「图床相册」升级至 v0.1.4：修复图片预览异常；S3/R2 本地历史分页（每 9 张一页）

## 更新 v1.1.2
- 新增：内置图床新增 ImgLa 上传器
- 改进：图床上传流程与配置存储调整（手动上传 / S3 / ImgLa）
- 改进：大纲支持自动隐藏/展开；大纲布局菜单文案/图标优化，并增加菜单标题提示
- 改进：内置插件「图床相册」更新：支持预览；适配内置图床（含 ImgLa）

## 更新 v1.1.1
- 改进：Windows 窗口圆角/阴影/透明边细节调整，边界更清晰
- 改进：窗口控制按钮更新为 Win10/11 风格 SVG 图标，并优化最大化/还原的状态切换
- 修复：标签页挤压时窗口控制按钮可能不可见的问题
- 调整：刷新/更新图标与主题按钮图标样式

## 更新 v1.0.4
- 新增：扩展更新通知支持「立即更新」按钮，一键完成更新并展示更新进度
- 改进：更新扩展时保留安装选项（例如「菜单栏显示」），避免更新后行为变化
- 改进：窗口圆角阴影增强边界可视性；紧凑标题栏改为强制开启并隐藏开关
- 改进：内置插件「flymd-RAG」升级至 v0.1.4：插件菜单调整为「知识库设置」，直接打开索引设置
- 修复：内置插件「AI 小说引擎」升级至 v0.6.5：人物状态“死亡”识别更保守，减少误判
- 变更：扩展市场 `index.json` 更新「AI 小说引擎」描述（新用户注册赠送 50 万字符）

## 更新 v1.0.3
- 新增：库侧栏搜索升级：文件名/路径即时过滤；输入 `:关键词` 回车全文搜索（快速扫描，可继续深度搜索）；输入 `::关键词` 回车知识库语义搜索（需 flymd-RAG 索引）
- 改进：新 UI 适配：统一库侧栏宽度/间距，调整正文位置与默认宽度
- 改进：内置插件「AI 助手」升级至 v0.4.1：上下文记忆与预算策略优化，生成质量与排版优化

## 更新 v1.0.2
- 修复：使用图床图片时，PDF 导出图片裁剪或不显示的问题
- 改进：所见模式代码框增加背景色，调整代码区域样式

## 更新 v1.0.1
- 修复：打印包含 KaTeX 公式时，等待样式加载完成，避免公式样式丢失
- 新增：大纲布局按钮
- 改进：自动判断当前文档是否存在大纲，自动显示/隐藏大纲面板
- 改进：选中标签页图标高亮效果
- 改进：元数据/文件树 UI 细节调整；侧栏按钮改为图标样式
- 改进：内置插件「AI 小说引擎」升级至 v0.6.4：新增全自动模式，优化执行逻辑，预置 Jina 向量模型并提供快捷跳转 API

## 更新 v0.9.9
- 新增：编辑区右键菜单新增「打印」入口
- 修复：新 UI 下打印渲染异常（改为隔离 iframe 渲染，避免打印空白/内容不全）
- 修复：阅读模式 KaTeX 渲染异常
- 修复：复制 KaTeX 公式导致的双反斜杠（行内/块级）

## 更新 v0.9.8
- 新增：KaTeX 启用 mhchem，支持 `\ce{...}` / `\pu{...}` 等化学公式宏（阅读/预览与所见模式一致）
- 改进：内置插件「AI 小说引擎」升级至 v0.6.2：人物状态约束更清晰（隐藏/死亡/置顶），RAG 查询提示更聚焦，并加入一致性硬规则与写作检查清单
- 变更：扩展管理面板移除扩展卡片顶部「独立显示」复选框（全新 UI 不再支持此项功能）

## 更新 v0.9.6
- 新增：多窗口支持：标签页拖拽新建窗口；拖回在原窗口以新标签页打开
- 新增：拖拽新建窗口时的「幽灵窗口」提示 UI
- 改进：标签拖拽动作跟随图标，拖拽反馈更直观
- 改进：PDF 视图缓存，优化 PDF 加载速度
- 修复：Linux 下拖拽与窗口 resize 异常
- 修复：二级菜单展开自适应，避免出现溢出问题
- 修复：幽灵窗口残留；拖回后自动销毁新建窗口

## 更新 v0.9.5
- 新增：Ctrl+Shift+P 命令模式（命令面板）
- 新增：全局菜单管理器：菜单项集中管理与动态更新
- 改进：垂直菜单栏更窄、图标更紧凑
- 改进：文件树文件夹图标调整（顶级/次级更易区分）
- 修复：macOS 紧凑标题栏下窗口拖动/最小化按钮失效
- 修复：macOS 无边框窗口（`decorations: false`）下 `minimize()` 可能失效
- 文档：README 许可徽章显示修复

## 更新 v0.9.3
- 修复：大纲面板 H1/H2 折叠/展开开关恢复可用
- 修复：库侧栏目录/文档图标恢复显示（改为 VS Code 风格 SVG 图标）
- 改进：切换标签页时，库侧栏自动展开并高亮当前文档，避免选中态停留在旧文档
- 改进：内置插件「AI 小说引擎」升级至 v0.6.0
- 变更：关于页许可说明更新为 GPL-3.0（与 `LICENSE` 保持一致）

## 更新 v0.9.1
- 改进：【所见/WYSIWYG】模式下，有序/无序列表在光标位于列表项时支持 Tab 缩进成次级列表、Shift+Tab 反缩进
- 改进：【所见/WYSIWYG】模式下，列表项行首 Backspace 可退一层缩进（或退出列表）

## 更新 v0.9.0
- 新增：插件菜单新增「语音转写」：开始/停止录音转写、选择音频文件转写、转写设置（支持官方后端代理与自定义模型）
- 新增：插件菜单新增「自动语音笔记」：流式听写生成笔记，支持登录/剩余分钟数查询、充值与卡密兑换
- 改进：统一麦克风管理，语音转写与自动语音笔记互斥占用，避免同时录音导致冲突
- 改进：macOS 增加麦克风权限说明，避免首次使用时被系统直接拒绝
- 改进：macOS 应用图标 safe area 处理，避免 Dock/Finder 图标观感过大

## 更新 v0.8.6 - v0.8.9
- 改进：插件 API 的文本写入进入可撤销栈，内置「AI 助手」等插件写入内容可用 Ctrl+Z 撤销
- 修复：所见模式的滚动容器与代码区复制按钮覆盖层定位/刷新问题（打开文件后按钮可能不出现等）
- 改进：所见模式代码区复制按钮仅复制纯代码文本，不再携带 ``` 围栏/语言标记

## 更新 v0.8.5
- 新增：标签页拖拽出窗口后，可在新实例中打开（仅对已保存且无未保存修改的文档生效）
- 改进：库侧栏隐藏后，左侧触发热区扩大，便于再次展开
- 改进：扩展管理面板筛选状态持久化（扩展市场“仅显示已安装”、已安装区块“仅显示可更新”）

## 更新 v0.8.4
- 修复：Excel/Sheets 公式中 `$A$1` / `C$2` / `$U:$U` 等“绝对引用”不再误触发 Markdown 行内数学（KaTeX）

## 更新 v0.8.3
- 新增：新建标签页名字递增命名

## 更新 v0.8.2
- 新增：标签页支持拖拽调整顺序
- 修复：删除文档时同步销毁对应标签页，避免残留无效标签页
- 修复：调整库侧栏自动刷新时机，避免在 Linux 上可能导致 UI 阻塞
- 改进：内置插件「AI 助手」升级至 v0.3.8：默认截断字符上调到 128K
- 修复：内置插件「智能悬浮工具条」升级至 v0.1.6：所见模式插入链接后可正常跳出链接节点

## 更新 v0.8.1
- 新增：分屏模式支持拖拽调整比例
- 新增：所见模式支持 HTML 渲染；可在主题设置中开启 HTML 编辑（默认关闭），编辑内容会转写为 Markdown
- 改进：内置插件 flymd-RAG 升级至 v0.1.3：增加文件指纹，自动对修改文档增量向量化并清理旧 chunk 引用；暂时关闭索引同步（风险>收益）
- 改进：内置插件「AI 助手」升级至 v0.3.7：加入知识库引用路径展示；对话窗口自适应尺寸

## 更新 v0.8.0
- 新增：字体大小设置（编辑/预览/所见三种视图统一生效）
- 改进：默认字号统一为 16px（源码/预览/所见三种视图一致）
- 改进：内置插件「AI 助手」对话支持 KaTeX 公式渲染，并放宽对话内容宽度
- 修复：另存为 PDF 时内容截断与样式丢失问题

## 更新 v0.7.9
- 修复：在系统为深色模式但关闭夜间模式时，界面仍残留深色主题痕迹的问题

## 更新 v0.7.8
- 修复：WebDAV 同步扫描不再跳过必要的隐藏路径；`.flymd/library-id.json` 以及插件注册的额外同步前缀（如 flymd-RAG 的 `.flymd/rag-index/<libraryId>`）可正常上传/同步。
- 改进：内置插件 flymd-RAG 升级至 v0.1.1，设置中开关“云端同步”后会即时刷新 WebDAV 额外同步路径，避免索引同步状态滞后。
- 修复：扩展市场点击第三方扩展主页链接在部分 URL 形式下无法打开的问题。
- 改进：扩展市场弹窗布局与滚动区域样式（更宽/更高/更紧凑的卡片间距）。
- 改进：内置插件 AI 助手升级至 v0.3.4，新增“解疑/Explain”快捷功能；续写/润色/纠错在有选区时优先基于选区处理，并调整扩展市场名称文案为“AI 助手”。

## 更新 v0.7.6
- 新增：扩展面板为插件增加来源标识（官方/第三方），并提示第三方扩展的安全注意事项。
- 新增：上架第三方扩展「简单图床 easyImage2.0 上传工具」，支持配置自定义 Web API 上传图片。
- 变更：知识库索引目录统一固定为库根目录下 `.flymd/rag-index/<libraryId>`，并写入稳定库 ID（`.flymd/library-id.json`）以支持多端一致性；不再支持自定义索引目录（若你此前使用了自定义索引目录，需要重新构建索引或自行迁移）。
- 改进：插件宿主开放 WebDAV 插件 API，支持插件注册额外同步路径并监听同步完成，方便索引/缓存类数据实现多端同步。
- 修复：AI 助手对话渲染中无序列表解析错误，避免列表内容丢失。
- 改进：内置图床设置入口文案从“图床”调整为“S3/R2图床”。

## 更新 v0.7.5
- 新增：上架官方「flymd-RAG 知识库索引」扩展，为本地 Markdown/TXT 构建向量索引，在当前文档库内提供语义检索能力，并作为 RAG 对话的知识库基础设施。
- 新增：AI 助手扩展可选接入 flymd-RAG 检索，在发送前自动检索并追加相关文档片段，实现“当前对话 + 本地知识库”的混合回答；未安装/未启用 flymd-RAG 时保持原有行为不变。
- 新增：插件运行时扩展库级文件遍历、目录监听与独立插件数据目录等 API，为知识库索引类扩展提供更稳定的底层能力，也方便其他插件构建自己的轻量索引。
- 改进：flymd-RAG 知识库索引扩展支持增量索引与召回策略优化，仅对新增/修改文档重建索引，在大体量文档库上显著降低索引耗时。
- 改进：flymd-RAG 知识库索引扩展提供索引目录自定义、单文档索引重建等高级选项，并增强长任务进度与错误提示，便于排查索引异常。
- 改进：RAG 知识库索引与 AI 助手扩展补充完整英文界面与文案，在英文系统下也能无缝使用知识库检索能力。
- 新增：AI 助手扩展内置免费向量模型通道，可在无需自备 Key 的前提下驱动 flymd-RAG 完成向量化与知识库索引构建（在免费额度范围内）。

## 更新 v0.7.4
- 新增：上架「属性视图」扩展，可在侧边栏按列查看和筛选当前库文档的元数据字段，为基于属性的知识管理和批量整理提供基础视图。
- 新增：上架「笔记与任务日历」扩展，以日历为单位聚合各日期下的待办与笔记，支持从日历视图快速浏览和跳转当日任务。
- 新增：上架「知识白板」扩展，在独立白板画布上组织节点与连线，可与现有文档联动，帮助搭建更直观的知识结构。
- 改进：AutoYAML 元数据扩展与属性视图实现联动，可自动补全 front matter 并在属性视图中直接可见，降低维护文档属性的成本。
- 改进：为 PDF 高精度解析、MinerU 解析以及智能悬浮工具条等扩展补充英文词典与交互文案，在英文环境下也能获得完整提示与说明。
- 改进：扩展运行时在 i18n 中增加 `flymd:localeChanged` 事件，插件可以在语言切换时监听该事件完成重注册或文案刷新，保持中英文界面一致性。
- 改进：在语言切换后增加“建议重启程序”的提示，避免部分扩展或窗口因旧语言环境残留导致显示异常。

## 更新 v0.7.3
- 新增：在「插件」菜单中增加「扩展菜单管理」窗口，集中列出所有由扩展注册的编辑器右键菜单和“插件”下拉入口，可按扩展勾选显示/隐藏对应菜单项，用更精细的粒度控制界面噪音，而无需卸载插件。
- 新增：上架「AutoYAML 元数据」扩展，可以为当前文档自动补全 YAML 前置信息（如标题、标签等），并可选调用 AI 助手生成标签和摘要，便于构建结构化更清晰的知识库。
- 改进：双向链接插件支持扫描文档开头的 YAML front matter 中 `tags` 字段，将标签纳入索引与“相关推荐”计算逻辑，对依赖标签体系的库提供更准确的反向链接与推荐结果。
- 改进：补齐扩展市场中官方扩展卡片的英文名称/描述，同时为关系图谱、双向链接、Git 版本、Word/Excel 导入、S3 图床相册、Typecho 博文管理、xxtui 待办推送、AutoYAML 元数据等内置扩展补全 i18n 文案和英文交互提示，跟随 flyMD 语言设置自动切换中英界面。
- 修复：修复 WebDAV 同步扩展启用/关闭后同步状态指示不及时刷新的问题，现在在扩展面板和相关菜单中切换开关会立即反映当前状态。

## 更新 v0.7.2
- 新增：上架官方「关系图谱（Graph View）」扩展，基于双向链接索引在悬浮面板中展示当前文档的局部关系网络，支持点击节点跳转、从“插件”菜单和编辑器右键菜单快速打开面板。
- 新增：上架「智能悬浮工具条」扩展，选中文本后在光标附近弹出可拖拽的富文本工具条，支持自定义 1–6 级标题快捷键（默认 Ctrl+1~6）以及快速插入链接、图片等常用操作。
- 改进：智能悬浮工具条支持“仅在选中文本时显示”，更精确地区分源码/所见/阅读模式，在阅读模式下自动隐藏；设置面板新增重置标题快捷键按钮，并通过插件宿主提供的 `getSourceCaretRect` / `onSelectionChange` 等新 API，让工具条在源码模式下也能精准跟随光标位置。
- 改进: 阅读模式中为超宽表格提供横向滚动条
- 改进：扩展市场面板在应用空闲时会后台静默预热（构建 overlay + 渲染一次完整列表 + 拉取市场索引并写入缓存），并将分类筛选改为仅基于本地缓存数据进行过滤，结合“已安装/可更新”状态缓存，让扩展市场实现“即开即见”且不再频繁发起网络请求。
- 改进：将 WebDAV 同步和内置 S3/R2 图床设置入口收纳到主界面的“插件”菜单中，更容易从同一入口管理同步与图床相关功能。
- 改进：当从库侧栏重命名/移动文档时，会同步更新已有标签页的文件路径与标题；标签关闭和程序退出时会根据保存操作是否真正清除未保存修改来决定是否继续关闭，避免在文件选择器中点击“取消”或保存失败时误退出。

## 更新 v0.7.1
- 新增：上架「PicList 图床」扩展，支持在源码模式中选中本地图片路径或 Markdown 图片语法，一键上传到本地 PicList HTTP Server 并用图床链接替换选中内容；同时可开启“粘贴后自动上传”开关，在粘贴图片生成本地 pasted-* 文件时自动上传并回写远程地址。
- 新增：PicList 图床在所见模式下接入粘贴与写回钩子，可在 WYSIWYG 编辑过程中复用同一套自动上传逻辑，避免模式切换时行为不一致。
- 新增：内置「S3 图床相册」扩展，自动汇总通过内置 S3/R2 图床上传的历史图片，提供缩略图预览、复制链接、插入当前文档以及从云端删除对象等操作，便于集中管理图床资源。
- 新增：扩展市场支持按分类筛选，配合「PicList 图床」「S3 图床相册」「Flyshow 一键发布」等新扩展，在市场中按“图床/发布”等类别快速发现相关插件。
- 新增：插件宿主（pluginHost）新增 readTextFile / writeTextFile / listLibraryFiles 等文件系统能力，让扩展可以安全读取/写入库内文件并枚举 Markdown 文档，为复杂插件提供更强的数据访问能力。
- 改进：S3 图床上传链路增加上传记录本地持久化与列表接口，为「S3 图床相册」等管理类扩展复用，便于后续扩展更多图床管理能力。
## 更新 v0.7.0
- 新增：Word/Excel 导入扩展在解析 HTML 时会将文档中的 data:URL 图片提取为二进制，保存到当前文档所在目录的 `images/` 子目录中，并在 Markdown 中插入相对路径引用；同时插件运行时新增 `saveBinaryToCurrentFolder` 接口，方便其他扩展复用这套“按当前文档落盘二进制并返回相对路径”的能力。
- 改进：所见模式下在未保存的临时文档中粘贴图片时，不再把图片直接转换为 base64 内嵌到 Markdown，而是回退保存到系统图片目录（与源码模式保持一致），显著降低文档体积并避免编辑过程中的内存占用飙升。
- 新增：双向链接（Backlinks）插件现在会在阅读预览中自动识别 `[[名称]]` 文本，包裹为可点击的链接并支持一键跳转到目标文档，对 `[[标题]]`、`[[标题|别名]]` 等常见写法以及所见模式转义后的 `\\[\\[...\\]\\]` 都能正确解析。
- 改进：双向链接面板的默认行为调整为“默认收起”，并在编辑区/阅读/所见模式右键菜单中提供统一的“显示/隐藏双向链接面板”入口，同时修复了部分情况下预览根节点变化导致链接点击偶发失效的问题。
- 修复：在多显示器或异常窗口配置下可能出现窗口宽度无限放大或恢复到屏幕之外的情况，现在会根据 Rust 侧计算的虚拟桌面尺寸强制将窗口限制在合理范围内，同时继续保证最小窗口尺寸为 960×640。
- 修复：macOS 自动更新时，资产匹配逻辑会优先识别 `.dmg` / `.pkg` / `.app.zip` 以及 universal 包，避免误把 Windows 便携版 ZIP 当成 macOS 安装包，从而导致更新失败或下载错误文件。

## 更新 v0.6.9
- 新增：上架「双向链接（Backlinks）」插件，基于 `[[标题]]` 语法自动建立笔记之间的正向/反向链接，在侧边面板中集中查看当前文档被哪些笔记引用，并支持按需重建索引。
- 新增：双向链接面板集成 AI 语义关联推荐，可在当前文档下方看到由 AI 分析出的相关笔记列表，左键跳转原文，右键可在光标处一键插入对应的 `[[链接]]`。
- 新增：在编辑器右键菜单中增加“插入双向链接”“刷新当前文档反向链接”等入口，更方便在当前内容上快速挂上 `[[标题]]` 链接；支持与 AI 助手插件联动，一键插入推荐的关联笔记。
- 改进：源码模式新增 `[[标题]]` 自动补全能力，在 Markdown 编辑器中输入 `[[` 即可弹出库内文档列表，方向键选择并回车即可插入链接（备注：双向链接的标题补全目前仅支持源码模式，所见模式下会自动关闭此功能）。
- 改进：优化「PDF 及图片高精度解析」扩展，在解析过程中自动将远程图片下载到本地并交给插件运行时读取，避免 CDN 链接过期后图片无法显示的问题。
- 修复：修复 macOS 上双击文档图标或从 Finder 冷启动打开文件时，应用可能无法正确收到并打开目标路径的问题，提高与系统文件管理器协同的稳定性。
- 修复：修复在多显示器环境下，某些分辨率与 DPI 组合下主窗口可能被错误放大到超出屏幕范围的问题，窗口尺寸恢复为更合理的默认值。
- 其他：所见模式（WYSIWYG v2）改进了对方括号转义和图片路径的处理，确保 Obsidian 风格的 `[[链接]]` 在模式切换时尽量保持原样，并清理部分内部实现细节。

## 更新 v0.6.8
- 新增：右键菜单增加“以纯文本粘贴”选项，可在当前模式下直接插入去样式的纯文字，避免从网页或富文本编辑器带入复杂格式。
- 改进：优化源码模式的粘贴格式转译逻辑，从 HTML 转换为 Markdown 时减少多余空行、列表错位等问题，还原更干净的源码结构。
- 新增：上架「Word/Excel 解析导入工具」扩展，支持将常见 Office 文档一键解析为 Markdown 并导入当前库，方便集中管理异构文稿。
- 改进：将“配置备份”和“便携模式开关”统一移动到文件菜单中，简化右键菜单层级，让常用操作入口更清晰。
- 修复：修复便携模式下可能导致文档库路径丢失或误清空的情况，提高在移动硬盘与便携包场景下的库安全性。

## 更新 v0.6.7
- 新增：支持 Markdown 脚注语法（`[^1]` / `[^name]`），在源码模式与阅读模式中都能正确渲染脚注列表，长文档注解结构更清晰。
- 改进：阅读模式中脚注标记支持悬停预览脚注内容并自动对齐位置，减少来回拖动滚动条查找脚注的打断感。
- 新增：上架「Git 版本管理」扩展，在侧边栏提供类似 VS Code 的 Git 视图，可查看当前库与当前文档的提交历史与差异高亮。
- 新增：扩展运行时新增 Git 命令桥接能力，仅支持状态查询、历史查看与显式提交等安全操作，不对现有仓库做破坏性变更。
- 其他：为后续扩展市场中与版本控制相关的能力打基础，细化错误提示与安全保护。

## 更新 v0.6.6
- 新增：源码模式支持“源码 + 阅读”左右分屏布局，在支持写文件的桌面环境中可以同时查看编辑区与阅读预览，滚动位置自动同步，更适合大屏写作。
- 改进：分屏模式增加窗口宽度限制、模式切换自动退出和内容防抖刷新等细节优化，在窄窗口或频繁切换文件时界面更稳定。
- 新增：文件库删除操作改为使用内置 JS 确认窗口，替代原生系统对话框，提示文案与样式更加统一，降低误删风险。
- 新增：所见模式支持渲染 `<!-- ... -->` HTML 注释节点，保留 Markdown 中的注释块，避免渲染阶段被静默丢弃。
- 新增：右键图片菜单中增加“上传到图床（S3/R2）”，可直接从本地文件路径读取图片上传到对象存储，并自动生成 Markdown 链接到剪贴板，同时不改动当前文档内容。
- 新增：自动保存功能，在桌面环境中按固定间隔后台保存当前文档，并通过设置记忆开关状态，减少意外退出导致的数据丢失。
- 修复：修复源码模式下粘贴文字后立即撤销，可能导致整篇文档被清空的问题，撤销行为现在只作用于最近的粘贴操作。
- 其他：微调 PDF 转 Word 插件等细节，改进稳定性与兼容性。

## 更新 v0.6.4
- 新增：扩展运行时新增 `context.getLibraryRoot` 与 `context.saveMarkdownToCurrentFolder` 能力，插件可以在库内安全地读取 / 写入 Markdown 文件，为 PDF 解析、翻译等本地自动化工作流提供更大空间。
- 改进：「PDF 及图片高精度解析」扩展在翻译大型 PDF 时支持自动分页翻译，并在开始翻译前增加信息确认步骤，避免误操作占用大量时间与配额。
- 改进：文档库增加目录监听能力，当第三方程序在库目录中新建、删除或修改文件时，flyMD 会自动刷新列表，保持侧栏与实际文件系统状态同步。
- 改进：库侧栏右键菜单位置自适应窗口边界，不再出现被屏幕裁剪导致菜单不可见的问题，同时移除 `D` / `M` 快捷键以避免偶发性误触。
- 改进：在库侧栏新建文档或新建文件夹时，先弹出命名窗口再创建实体文件，减少大量“未命名”文件，提高库结构的可维护性。
- 修复：回滚 0.6.3 中对暗色模式逻辑的调整，暂时恢复“检测到系统为暗色模式时自动启用夜间主题”的行为，以修复部分环境下深色模式异常的问题。
- 文档：更新 README 与扩展开发文档，补充新插件能力与 MinerU PDF/图片解析扩展的最新使用说明。 

## 更新 v0.6.3
**该版本进行了大规模重构和模块化设计，大幅提示性能。遇到问题请即时提ISSUE**
- 新增：上架官方扩展「MinerU PDF/图片解析」，使用 MinerU 官方 API 对 PDF / 图片进行结构化解析，为复杂扫描件和图文混排提供另一种解析路径。
- 新增：上架「发送到 Blinko」扩展，在文档右键菜单中一键将当前内容发送到 Blinko。
- 改进：「PDF 及图片高精度解析」扩展升级，支持直接解析图片并提供 PDF 一键翻译能力，处理手写、复杂排版和多语言文档时效果更好。
- 改进：AI 助手扩展升级并调整模型列表，移除对 Qwen3-Omni 模型的支持。
- 改进：移除“检测到系统为暗色模式时强制启用夜间主题”的逻辑，现在明暗主题完全遵循 flyMD 内部设置，用户可以自由选择主题而不受系统配色干扰。
- 改进：库侧栏强制禁用背景网格纹理，在所有主题下都保持纯色背景，保证文档列表的可读性与对比度。
- 修复：所见模式下窗口标题抓取逻辑错误的问题，避免标题栏与文档真实标题不一致。
- 修复：xxtui todo-push 扩展在推送与提醒时丢失原始 Markdown 文本的问题，现在会完整保留 Markdown 内容。
- 重构：拆分文件库、待办模式、专注模式、便签模式、插件宿主与配置面板、图床设置、右键菜单、更新窗口等多个 UI 与运行时模块，将核心能力收敛为可复用的扩展化模块，降低耦合并为后续扩展生态打基础。

## 更新 v0.6.2
- 新增：上架官方扩展「PDF 高精度解析」，基于大模型将 PDF 精细解析为 Markdown 或 docx，支持手写、复杂排版、公式与表格识别。
- 新增：扩展运行时开放 `getCurrentFilePath` 与 `readFileBinary` API，插件可以按绝对路径读取当前文档的二进制内容，适合 PDF 解析、图片处理等场景。
- 改进：便签模式窗口在桌面环境中默认隐藏任务栏图标，更贴近系统便签体验，不再挤占任务栏空间。
- 修复：在启用“默认所见模式”时，通过双击 PDF 启动应用会误切入所见模式导致 PDF 预览异常的问题，现在会保留原生 PDF 预览，不再被所见模式覆盖。
- 改进：调整文档与项目配置，补充新扩展与工作流说明。

## 更新 v0.6.1
- 改进：所见模式的无序列表统一使用 `-` 作为项目符号，与源码模式保持一致，复制 / 粘贴、比对文本时更直观。
- 新增：xxtui 待办推送扩展支持自定义回写标记，并重构设置面板导航，复杂工作流的配置更容易上手。
- 改进：所见模式代码块的语言选择框会在光标离开代码区后自动隐藏，减少视图干扰。
- 改进：空的 Mermaid 区块在所见模式下会自动进入编辑状态，同时禁用代码块内的符号自动补全，避免和代码编辑习惯冲突。
- 改进：Mermaid 渲染增加错误提示，并修复部分在所见模式中的显示问题，让图表更稳定、更容易排查错误。
- 修复：多处 KaTeX 编辑体验问题，包括删除键失效、公式无法通过鼠标点击激活、双击触发异常以及部分样式错乱，使公式编辑更接近普通文本。
- 改进：在多个交互节点补充提示文案，帮助新用户更快理解功能。

## 更新 v0.6.0
- 新增：主题面板支持自定义排版（行高、段落间距、内容最大宽度、首行缩进），阅读 / 所见 / 源码模式的正文排版可以按个人习惯统一调校。
- 新增：源码模式默认开关，可在主题面板中设置“始终以源码模式进入”，避免每次打开文档都自动切回预览。
- 新增：所见模式增加中英文括号 / 引号的自动补全、环抱补全与成对删除，只在 ProseMirror 视图内生效，不干扰源码模式的输入习惯。
- 改进：所见模式中输入 ``` 回车后立即生成带边框的代码块，并支持语言选择、方向键切换，以及更健壮的 $$ 数学公式节点处理。
- 改进：首行缩进仅作用于顶层段落，不再波及 Mermaid 图、代码块等特殊节点，同时为所见模式 Mermaid 预览增加专门样式，修复中文标签被裁剪、排版错乱的问题。
- 改进：所见模式的中文标点环抱逻辑与光标落点做了多轮细化，解决只能在第一行进入光标等问题，整体编辑体验更加接近普通文档编辑器。
- 修复：0.5.9 中在未启用紧凑标题栏的情况下，部分平台可能看不到窗口控制按钮的问题；同时清理旧的 Win32 样式兼容 hack，让标题栏行为更可预期。

## 更新 v0.5.9
- 新增：主题设置支持自定义颜色方案，并提供“羊皮纸”风格开关，适合长时间阅读和低对比度场景。
- 改进：自定义颜色现在可以全局生效，同时精简了背景色层级，让编辑区、侧栏和菜单在浅色/深色主题下更统一；侧栏按钮、插件菜单样式和紧凑标题栏窗口控制按钮也统一对齐全局视觉规范。
- 改进：Windows 平台移除原生窗口边框，在启用紧凑标题栏时窗口外观更加一体化。
- 改进：WebDAV 同步多目录扫描与传输并发度提升（最高 8 路），配合新的重试与指数退避策略，弱网环境下同步成功率和整体吞吐都更稳定。
- 改进：在编辑 / 所见 / 阅读等模式切换时会弹出通知气泡提示当前模式；将原“编辑模式”文案统一更名为“源码模式”，减少术语混淆。
- 新增：所见模式支持直接删除代码块，以及对可双击编辑的 Mermaid / KaTeX / 图片节点增加删除按钮，便于快速清理多余块。
- 修复：修正 KaTeX 删除按钮的交互问题，以及侧栏按钮未跟随全局主题生效的异常。

## 更新 v0.5.8
- 新增：主题设置中增加“正文字体全局生效”开关，可让自定义正文字体同步作用于整个界面 UI（菜单、按钮、插件窗口等），并通过统一的等宽字体变量让编辑器、预览区和 AI 助手的代码排版保持一致。
- 新增：主题面板内置自定义字体管理列表，支持查看所有已安装字体并一键删除，会自动清理字体文件本体、注入的 `@font-face` 样式以及被删除字体引用的主题偏好。
- 改进：编辑 / 所见 / 阅读三种模式之间切换时，会尽量保持视口与滚动位置一致，切换模式对比排版时光标附近内容不再“跳来跳去”。
- 改进：夜间模式下阅读模式的代码块背景与高亮样式与编辑器对齐，恢复足够的对比度和可读性。
- 改进：扩展市场固定插件排序为「内置 → 推荐 → 名称 A-Z」，新增“可更新”筛选标签，并在排序规则或数据结构变更时主动失效旧缓存，保证始终看到最新插件列表。
- 改进：便签模式不再继承全局夜间模式，并对便签工具栏按钮布局进行了优化；同时禁用便签上的原生右键菜单，避免在小窗口上误触系统菜单。
- 改进：专注模式和主窗口菜单按钮的布局与间距进一步收紧，层级关系更清晰，结合紧凑标题栏后整体控制区更统一。
- 改进：AI 助手在夜间模式下的配色与视觉开关样式进一步与 flyMD 夜间主题统一，代码片段也会跟随全局等宽字体设置。
- 修复：在开启“紧凑标题栏”后，Linux 与 macOS 用户无法拖动窗口的问题，现在在隐藏原生标题栏时也可以直接在 flyMD 内部拖动窗口。

## 更新 v0.5.7
- 新增：紧凑标题栏模式，在 flyMD 内自绘窗口控制按钮，支持在主题面板中一键开启/关闭，并记住上次状态（包含与专注模式配合时自动隐藏原生标题栏）
- 新增：所见模式代码块语法高亮与更加简洁的复制按钮，在深色/浅色背景下都能自动适配，对长代码阅读和复制更友好
- 新增：Typecho 管理扩展支持在下载/发布时单独编辑文章标题、从当前文件名自动提取标题，并通过新提供的 API 自动按「ID-标题」重命名本地 Markdown 文件，兼容更多主题的 `thumb` 字段
- 新增：第三方扩展「小红书文案生成」，可在扩展市场一键安装，用 AI 生成/润色小红书风格文案，已在中英文 README 中补充致谢
- 改进：夜间模式下的编辑区、所见模式、阅读模式和侧栏/菜单栏/标签栏背景颜色全面重新调优，引入跟随内容区的衍生色逻辑，避免出现“标题栏太亮 / 侧栏太暗”等割裂感
- 改进：阅读模式和不同源码模式之间切换时，窗口 Chrome 颜色（标题栏、菜单栏、侧栏、标签栏）会自动跟随当前背景更新，并在主题变更和模式切换事件中实时同步
- 改进：所见模式图片支持双击打开源码路径编辑框，同时在内部记录原始本地路径，避免再展示和编辑 `base64` / `asset:` 等中间地址，贴图与路径修改行为更加可控
- 改进：所见模式和源码模式的粘贴链接行为统一，支持「Ctrl+V 粘贴 URL 自动抓取网页标题并插入链接」，URL 标题提取逻辑抽取为全局 API 供复用
- 改进：链接插入弹窗默认选中 URL 输入框内容，方便直接粘贴覆盖；标签栏中的「+」按钮被固定为最后一个“标签”，标签排列更加整齐
- 修复：夜间模式下 Mermaid 流程图配色与所见模式代码块高亮样式，确保对比度和可读性；同时为所见模式在夜间禁止单独调整背景色，避免文字与主题整体反差过低
- 修复：部分输入框在内容为空时按 Backspace 会被上层键盘事件拦截导致整个弹窗被关闭的问题，现在会拦截这种退格键，将焦点安全地留在当前输入框内

## 更新 v0.5.6
- 新增：上架官方扩展「Typecho 博文管理」，支持通过 XML-RPC 拉取远端博文列表、按时间/分类筛选并一键下载为本地 Markdown，同时支持在扩展市场中直接安装
- 新增：Typecho 管理扩展支持在 flyMD 内新建/发布文章，编辑 slug、封面与自定义字段，并在首次发布时自动懒加载远端分类列表，减少手工配置
- 新增：为插件系统开放 `context.htmlToMarkdown` API，可将从 Typecho / WordPress / 任意 Web API 获取的 HTML 内容直接转换为 Markdown，支持通过 `baseUrl` 处理相对链接
- 新增：AI 助手内置免费的 Gemini 视觉模型，在免费模式下可选择「Gemini Vision」，使用薄荷公益通道时会显示专属标识与跳转链接
- 改进：Typecho 管理扩展支持按标题/内容关键字搜索远端文章，支持勾选后批量下载到本地，并在下载完成后自动刷新文件树，保持文库视图与磁盘状态一致
- 新增：提供「相关文章」与「统计 / 健康检查」功能，可基于当前文档的标题 / 分类 / 标签推荐相关博文，并统计远端文章的发布/草稿数量、分类/标签 Top，以及缺少分类/标签的文章分布，帮助梳理博客结构
- 新增：Typecho 管理扩展在更新远端文章前自动拉取快照并保存最近多次版本，可在列表中通过右键菜单或「回滚」按钮查看差异并一键恢复到任一历史版本，降低误操作风险
- 改进：优化下载/发布时对 Front Matter 的处理，自动补齐 excerpt / cover / 自定义字段等元信息，并在发布成功后回写本地 Front Matter，确保本地 Markdown 元数据与远端状态保持一致
- 改进：增加全局滚动条“滚动时显示、停顿后自动淡出”的体验，并在阅读模式顶部显示基于 YAML Front Matter 的元数据条（标题、分类、标签、状态、Slug/ID、时间、来源），支持一键展开/收起
- 改进：细化免费模型的错误提示，当触发速率限制或每日调用上限时，会给出更清晰的原因说明与建议等待时间，而不再对 429 响应盲目重试
- 改进：为视觉模式与粘贴图片增加本地图片大小限制（默认 1MB），超限图片会被跳过并给出明确警告，避免大图拖垮请求，同时修复 AI 插件窗口隐藏后仍然挤压编辑区的布局问题
- 改进：大纲面板支持从库侧栏中剥离为独立列，可在「库 | 大纲 | 编辑区」或「库 | 编辑区 | 大纲」三种布局间切换，并在右侧存在插件窗口时自动向左避让；同时对库侧栏、滚动条、状态栏等界面细节进行一批视觉优化，并在 Linux（如 Arch 系列）下强制使用不透明背景以避免白屏/透明屏问题
- 修复：修复应用启动后未自动恢复已安装字体的 bug，本地字体配置在升级或重启后仍然可以正确生效

## 更新 v0.5.5
- 新增：AI 视觉能力，可直接读取本地图片并调用视觉模型进行理解与分析，同时内置一个限时免费的视觉模型，降低上手门槛
- 新增：为插件系统提供新的窗口布局 API，支持“三列横向：库侧栏 + AI 左侧 Panel + 编辑区”，并可根据库侧栏动态调整插件位置，实现右侧与下方插件窗口的互相避让
- 新增：开放 YAML Front Matter 及解析后的元数据 API，插件可以统一读取文档头部元信息，适合博客发布、文库增强、外部应用同步等场景统一使用
- 新增：在扩展市场上架第三方插件「Telegraph-Image 图床上传」，支持将图片一键上传到 Telegraph 图床并获取链接
- 改进：优化 AI 插件窗口与标签栏、编辑区域以及所见模式下方插件区域的布局逻辑，避免遮挡标签栏，并在底部浮窗出现时能正确顶开编辑区
- 改进：针对本地图片和图床图片访问增加尺寸/限制提示与失败回退处理，并改善视觉模型对对话框和源码模式中图片的识别效果
- 修复：修复库侧栏拖拽排序不记忆的问题，修复部分跨域（CORS）错误等一系列细节问题，整体交互与扩展运行更加稳定

## 更新 v0.5.4
- 新增：AI 对话支持与便签联动，可将回复内容快速生成便签或待办，方便把灵感和结论沉淀下来
- 改进：优化便签窗口的默认生成位置，更贴近当前文档与视线区域，减少手动拖动调整
- 新增：侧栏目录支持自定义拖拽排序，用户可以按个人习惯调整文档顺序，构建自己的知识结构
- 改进：PDF 文件在文档列表中单独排序，不再与 Markdown 文档混杂显示，同时保留用户对 PDF 的排序设置，并移除已经弃用的自定义图标
- 改进：去掉区分 PDF 的红点提示，改为通过文字颜色区分文件类型，让列表信息更简洁
- 改进：新建文库时默认关闭 WebDAV 同步，避免误同步到之前的文库；配置好同步路径后会跟随文库切换自动应用对应的同步设置
- 修复：在未配置 WebDAV 时增加明确提示，并修复同步冲突弹窗可能不出现的问题，避免静默丢失重要同步信息
- 文档：更新 README 并修正 PackyCode 链接格式

## 更新 v0.5.3
- 新增：扩展市场支持搜索扩展名称、作者与说明，支持 GitHub / 官网渠道切换与“仅显示已安装”过滤，并为优选扩展增加“推荐”标记，整体卡片布局与加载状态更清晰
- 新增：在扩展市场上架“Markdown 表格助手”插件，可在光标处一键插入 Markdown 表格，配合所见模式实现更接近所见即所得的表格编辑体验
- 改进：统一编辑/阅读/所见模式下的表格配色，增加亮/暗主题自适应的表格边框与表头背景变量，在暗色背景下自动增强对比度，提升长表格的可读性
- 改进：主题设置面板，新增“科技 / 文学”等排版风格与“极简风” Markdown 样式，并加入茶绿 / 纸白 / 柔粉等护眼配色，布局更加紧凑易用
- 改进：扩展管理面板使用增量刷新与后台静默刷新市场列表，重新打开时不再整块闪烁，但仍可通过右上角“刷新”按钮强制获取最新扩展信息
- 修复：夜间模式和部分主题下表格边框、表头前景色不一致等视觉细节问题，并修正扩展管理窗口在暗色主题中的一些样式异常

## 更新 v0.5.2
- 新增：协同源码模式改用 JS 自定义光标并加强颜色区分，同时为协同插件提供统一的光标配色，并内置官方协同服务器选项，整体协同体验更清晰可靠
- 改进：优化所见即所得模式下 KaTeX 等公式节点的编辑样式，以及普通源码模式的基础排版，让长文编辑/阅读更加简洁、统一
- 修复：所见模式中 Mermaid / 数学 NodeView 频繁重建导致的滚动异常、重复滚动条和代码块复制按钮失效等问题，显著提升稳定性
- 修复：所见模式下代码块高亮缺失、打开 Mermaid 图表出现空白、从所见模式打开 PDF 失败等一系列渲染与导出问题
- 改进：便签模式样式与布局，支持根据内容自动适配高度，并修复从所见模式启动便签后可能导致的界面样式错乱
- 新增：在侧栏目录右键菜单中增加“一键生成标签”和“在新实例中打开”入口，提升多库/多窗口场景下的操作效率
- 修复：阅读模式在部分主题下出现纯白背景的问题，并针对 Arch Linux 下 AppImage 可能受 WebKitGTK / 显卡驱动影响导致白屏的情况做出兼容性优化尝试

## 更新 v0.5.1
- 新增：开放式协同编辑能力，提供 flyMD 协同服务器示例（OSserver 目录）以及配套的“协同编辑”扩展插件，可通过房间号 + 密码在自建服务器上进行多人协同（Beta）
- 新增：插件系统支持注册/获取自定义 API 以及监听编辑器源码选区变化，为协同编辑等高级扩展提供基础能力
- 改进：文件树单击/双击与多标签页系统的联动逻辑，避免在 Ctrl+点击或多库切换后出现标签错乱、内容覆盖等问题
- 改进：编辑器布局高度与滚动策略，修复连续回车导致菜单栏和标签栏被顶到隐藏，以及部分场景下源码/阅读区域高度计算不准确的问题
- 修复：使用 `Ctrl+Shift+V` 进行“纯文本粘贴”长文本时，可能导致菜单栏/标签栏消失或布局异常的问题

## 更新 v0.5.0
- 新增：便签模式，一键将当前文档以小巧便签窗口单独打开，自动进入专注+阅读模式，并隐藏侧栏，仅保留正文内容，适合待办卡片、灵感草稿等常驻在桌面的场景
- 新增：便签模式顶部提供"锁定窗口位置"与"置顶显示"圆形按钮，可禁用拖动防止误移，同时让便签始终悬浮在其他窗口之上
- 新增：标签页右键菜单增强，支持"在新实例中打开"当前文档、直接重命名磁盘上的文件路径，以及一键生成对应的便签窗口
- 新增：便签模式支持快捷添加待办事项，输入一行按回车或失焦后自动回到阅读视图，已完成条目会自动加上删除线，更适合作为轻量待办看板
- 新增：便签顶部集成"推送"和"提醒"按钮，可一键将当前便签推送到 xxtui 待办并创建提醒；扩展系统为 xxtui 待办推送插件和 AI 助手开放新 API，使得右键菜单中的"生成待办 / 生成并创建提醒"可以直接把选中文本转换为结构化待办
- 改进：AI 助手回复支持 Markdown 渲染与代码高亮，长文本阅读体验更接近主编辑器
- 改进：AI 请求增加自动重试与更友好的"思考中"动画提示，翻译等长耗时操作改用可关闭的常驻通知提示条
- 改进：重写编辑器撤销/重做逻辑，为每个标签页维护独立撤销栈，切换标签或所见模式时不再出现撤销历史混乱的问题
- 修复：部分扩展在调用通知接口时，长时间任务提示无法保持常驻或关闭不生效的问题；修复长文场景下所见模式滚动偏移计算错误以及代码复制按钮定位未考虑滚动偏移量的问题

## 更新 v0.4.8
- 新增：WebDAV 同步支持端到端加密，同步前在本地加密文档内容，即使服务端泄露也难以直接还原明文
- 新增：AI 助手设置中恢复 OMG 预置连接和注册链接，方便直接选择对应资源包
- 新增：主题预设增加更多背景色与 Markdown 排版风格，主题设置面板布局同步优化
- 修复：所见模式中粗体/斜体快捷键在部分情况下导致光标位置错乱的问题
- 修复：所见模式代码块复制按钮在长代码块区域中位置错位的问题
- 修复：Tauri HTTP scope 校验规则，避免合法网络请求被错误拦截

## 更新 v0.4.7
- 新增：支持导出/导入完整配置，一键备份或迁移 flyMD 的所有设置、扩展与缓存数据
- 新增：便携模式，可将配置写入应用根目录，放在 U 盘中即插即用
- 新增：标签页右键菜单，支持在标签上直接关闭、固定或重命名（视后续版本补充）
- 改进：调整 `Ctrl+N` 行为以适应多标签页场景，新建文件与新建标签页配合更符合直觉
- 改进：关闭所有标签页后自动回到空白文档的源码模式，不再停留在“无文档”状态
- 改进：插件通知系统统一收敛到顶部通知中心，扩展可调用新的 `showNotification / hideNotification` API
- 改进：AI 助手扩展中，“续写 / 润色 / 纠错” 支持仅针对选中文本工作，右键菜单对选区更加友好
- 新增：预留快捷键 `Alt+W` 用于关闭当前标签页

## 更新 v0.4.6
- 新增：右键菜单条目支持拖拽排序，顺序会本地持久化，内置项自动锁定，常用操作可以随手排
- 新增：替换退出与 WebDAV 冲突/删除确认为自定义对话框，提供保存/放弃/取消三按钮与更清晰的操作提示，避免误点
- 改进：启动时自动读取系统深色模式偏好，必要时强制进入夜间模式，并补齐夜间主题下的标签栏样式
- 改进：扩展宿主暴露静态资源 URL 能力，AI 助手插件内置头像与备用资源，离线环境同样能显示图标
- 修复：切换标签页不再错误触发“未保存”状态，退出提示只会在真实脏数据时出现

## 更新 v0.4.5
- 新增：WebDAV 同步可配置 HTTP 主机白名单，只有受信主机/端口才允许在启用明文连接时同步，避免误连陌生节点
- 改进：同步设置面板提供白名单行级增删及留空提示，始终保留可编辑输入框，配置体验更顺畅
- 改进：所见模式内容变化同样驱动大纲刷新，代码区复制统一输出带语言信息的 Markdown 代码块，复制粘贴结果更干净
- 修复：重写所见模式 Ctrl+B / Ctrl+I 快捷键逻辑，直接在 Markdown 源码中包裹选区，焦点丢失时也能可靠生效
- 改进：保存操作会广播给标签系统，立即刷新标签路径并清除 * 标记，另存或跨库移动后标题不再滞后
- 改进：调整 Tauri 请求安全策略，拆分默认 HTTP 权限组，只开放显式声明的 HTTP/HTTPS 访问范围

## 更新 v0.4.3
- 改进：macOS 构建升级为 Universal Binary，单个安装包同时支持 Intel 和 Apple Silicon，两种架构均获得原生性能
- 改进：解决 GitHub Actions 弃用 macos-13 runner 导致的构建失败问题
- 改进：简化 macOS 发布流程，用户无需再区分 Intel 或 ARM 版本

## 更新 v0.4.2
- 新增：多标签页编辑体验，支持 Ctrl+T 新建标签、Ctrl+Tab / Ctrl+Shift+Tab 在标签间切换，并可按住 Ctrl + 鼠标左键在后台打开文档，适合多文档并行写作
- 新增：库侧栏补充快速删除/重命名快捷键，配合新的标签系统在不同文档间跳转不再频繁动鼠标
- 新增：所见模式代码区加入复制按钮，方便分享示例或粘贴到终端
- 新增：插件市场支持本地安装，离线环境也能快速调试和部署自研插件
- 改进：WebDAV 同步允许通过 HTTP 明文连接，并重做设置面板布局，局域网/自建 NAS 配置体验更顺滑
- 改进：主题与 AI 对话窗口样式同步调整，包含新位置、气泡样式与层级修正，夜间模式切换时不会再"花屏"
- 改进：AI 对话可直接创建待办和提醒,真正做到"聊完就落实"，并保持右键菜单基于文档内容的工作流
- 修复：修正 Delete 键误删文件、源码模式大纲不刷新、所见模式行内代码无法跳出、顶栏偶发被遮挡等问题，细节行为与旧版本保持一致
- 修复 WebDAV某些情况下不同步文件更改的情况

## 更新 v0.4.1
- 改进：库侧栏的展开/收起状态现已持久化保存，重启或在不同模式间切换时都会自动恢复，同时首次显示会自动刷新目录树，避免出现空白侧栏
- 修复：专注模式不再隐藏目录展开箭头，焦点模式下也能正常展开/折叠库目录，解决“所见模式下库目录消失”的问题
- 改进：WebDAV 同步面板的“启用 / 启动同步 / 关闭前同步”开关默认均为关闭，只有显式勾选后才会运行，避免未配置时误触发同步

## 更新 v0.4.0
- 新增：主题设置新增夜间模式开关，支持手动切换深色主题，状态自动保存
- 新增：夜间模式全面优化各窗口文字显示，包括库管理侧栏、弹窗、编辑器、所见模式等
- 新增：AI 助手默认使用免费模型，与硅基流动深度合作，内置免费 AI 服务，开箱即用无需配置 API Key 需要更新AI助手到0.1.9
- 新增：免费模型模式下右键菜单显示"Powered by SiliconFlow"入口，一键跳转注册获得顶级模型体验
- 新增：AI 助手扩展在应用首次启动后会后台静默安装，首次体验无需手动打开扩展市场
- 新增：AI 助手开放 `callAI / translate / quickAction / generateTodos` API，其他插件可以直接复用 AI 能力
- 新增：右键菜单新增 WebDAV 同步与同步记录查看入口，图床快捷开关，操作更便捷
- 新增：自定义右键菜单增加"按住 Shift 再次右键可打开原生菜单"提示，避免覆盖原生菜单后用户困惑
- 新增：xxtui 待办推送插件 0.1.5-beta 统一 API Key 缺失提醒弹窗，并在设置面板内置微信公众号二维码/链接指导快速获取 Key，完善引导
- 新增：所见模式全面支持 AI 扩展能力，AI 助手可在所见模式中即时读取/写入内容，无需切回源码模式
- 新增：AI 工具栏新增“自定义 / 免费”模式一键切换，免费模式可在 Qwen 与 GLM 模型之间即时切换
- 新增：翻译功能可单独设置“始终使用免费模型”，即使启用自定义模式也能避免浪费自有额度
- 改进：主题设置开关布局优化为三列，专注模式、所见模式、夜间模式一目了然
- 改进：AI 设置中 Base URL 下拉重新排序，硅基流动排在首位并作为默认首选地址
- 改进：AI 对话窗口增加边界检查，确保拖动时窗口始终保持至少 100px 可见区域，防止窗口丢失
- 改进：优化扩展设置窗口显示逻辑，修复 AI 窗口关闭后设置对话框不显示的问题
- 改进：WebDAV 同步日志改用本地时间戳记录，提升可读性；日志文件超过 5MB 时自动截断，防止无限膨胀
- 改进：库侧栏新增“左右停靠”按钮，可一键将文档库从左侧切换到右侧，专注模式下控制按钮自动让位，布局更清爽
- 改进：库侧栏记住各文件夹的展开/折叠状态，重启后保留上次浏览位置，避免频繁重复展开
- 改进：库顶部按钮文本强制横向显示，中文不再换行，整体排版更紧凑
- 修复：专注模式中 WebDAV 同步气泡被 UI 遮罩的问题，确保同步提示正常显示
- 修复：专注模式侧栏展开按钮首次打开不显示的问题
- 修复：开启"默认使用所见模式"后重启软件未生效的问题

## 更新 v0.3.9
- 新增：专注模式——无边框沉浸式写作体验，按 `Ctrl+Shift+F` 进入，隐藏标题栏、菜单栏等所有 UI 元素，只留纯净编辑区
- 新增：专注模式侧栏开关按钮，可快速隐藏/显示文档库侧栏
- 新增：专注模式退出按钮 `</>`，样式与窗口控制按钮一致
- 新增：主题设置中增加"默认使用所见模式"开关，开启后打开文件自动进入所见模式
- 改进：所见模式和阅读模式中隐藏状态栏（行/列/字数），界面更简洁
- 改进：源码模式侧栏颜色随主题变化，视觉体验更统一
- 改进：专注模式中所见模式布局优化

## 更新 v0.3.8
- 新增：AI 助手提供“免费模型”模式，内置硅基流动小参数模型，无需 API Key 即可体验基础写作对话
- 新增：AI 助手新增“翻译”动作，可针对选区或全文输出高质量中文译文，并以引用/段落形式插入文档
- 新增：扩展 API 开放 `context.getPreviewElement` 与 `context.saveFileWithDialog`，插件可读取渲染后的预览 DOM 并调用原生保存对话框，文档同步补充实战示例
- 改进：AI 设置窗口改为开关式模式选择，并增加免费模型风险提示，交互指引更直观
- 改进：WebDAV 同步提升远端目录扫描并发度，并在同步完成气泡中汇总上传/下载/删除详情，追踪动作更清晰
- 改进：扩展管理列表调整“独立显示”开关位置，同时收紧顶栏按钮 hover 动画，界面细节更稳定

## 更新 v0.3.7
- 新增：AI 助手与待办联动功能，AI 可直接调用 xxtui 待办插件 API 生成并创建提醒
- 新增：AI 助手扩展增加当前时间和文章中时间信息作为上下文，提升时间相关问答的准确性
- 新增：AI 助手扩展新增右键菜单入口
- 新增：扩展系统支持插件间通信 API，允许插件相互调用
- 新增：xxtui 待办推送插件支持多 Key 管理并优化右键菜单体验
- 改进：修复扩展二级菜单无法展开的问题，优化菜单显示逻辑
- 改进：更新中英文插件开发文档

## 更新 v0.3.6
- 新增：内置 `xxtui 待办推送` 扩展，可从文档中一键推送待办到 xxtui，并在后续版本中优化了待办菜单的交互与批量推送行为
- 新增：扩展系统开放右键菜单 API，并提供示例扩展展示多个菜单项、二级菜单和自定义图标等能力
- 新增：扩展市场支持手动选择安装/更新渠道（GitHub 或官网），另一方作为自动回退源，方便在不同网络环境下稳定获取扩展
- 新增：扩展系统支持下拉二级菜单 API，插件可以构建分组菜单和复杂操作入口
- 改进：重写源码模式留白与宽度控制逻辑，统一编辑/阅读在宽度调节上的体验，查找舒适阅读宽度更自然
- 修复：扩展卸载时清理残留菜单项，避免重复菜单或脏状态

## 更新 v0.3.5
- 新增：源码模式中使用 `Ctrl+V` 粘贴网址时，会自动抓取网页标题并补全为 `[页面标题](https://...)` 链接格式；`Ctrl+Shift+V` 始终粘贴纯文本
- 修复：修正从 HTML 来源粘贴内容时同时插入纯文本和 Markdown 转译内容的问题，现在 `Ctrl+V` 只保留转译后的 Markdown
- 新增：阅读模式支持按住 `Shift + 鼠标滚轮` 调整阅读区域宽度，长文阅读时更容易找到舒适的阅读宽度
- 新增：主界面通知区域增加扩展更新提示，第一时间提醒有可用插件更新
- 改进：AI 助手扩展支持右侧停靠和拖拽吸附，对交互细节和体验进行了多处优化

## 更新 v0.3.4
- 改进：优化 WebDAV 同步策略，新增同步设置项，更优雅地处理文档删除、移动、重命名后的同步场景
- 新增：文库支持自定义图标，并统一更新文件夹与库图标样式
- 改进：为源码模式新增网格背景，同时优化侧栏文案与展示样式，让多文档库场景下的信息更加清晰
- 改进：优化新建文档流程，让创建并进入编辑的过程更加顺滑自然
- 修复：重命名窗口在中英文切换后不刷新的问题，并补全右键菜单的英文版本
- 改进：简化查找 / 查找替换的命中数量显示，让关键信息更集中

## 更新 v0.3.3
- 修复：调整 WebDAV 手动同步策略，解决本地看似无变化时会直接跳过同步、可能漏掉远端更新的问题
- 改进：源码 / 阅读 / 所见模式切换时保持滚动位置一致，模式切换不再“跳页”
- 改进：大纲跳转和查找/查找替换功能，增加命中计数与当前/总数显示，修复编辑/阅读模式下无法准确滚动到目标位置等问题

## 更新 v0.3.2
- 修复：PDF 书签大纲可能失效的问题，确保导出/阅读 PDF 时目录结构正常显示
- 改进：WebDAV 同步完成后主动刷新文档库目录，避免手动刷新
- 改进：AI 助手扩展侧栏增加最小宽度限制，避免拖动过窄导致布局错乱

## 更新 v0.3.1
- 改进 大幅提升启动及渲染速度
> DOM就绪: '16ms', 首次渲染: '262ms', 应用就绪: '293ms', 总耗时: '293ms'
- 改进 WebDav的同步计算及比较逻辑，增加并发上传/下载/扫描。大幅提升同步速度
- 改进 同步状态独立显示，避免被行列状态打断显示
- 新增 行列状态新增字数信息


## 更新 v0.3.0
- 改进 优化各窗口的样式设计，新增动画效果和主题背景

## 更新 v0.2.9
- 新增 扩展插件开放pickDocFiles / openFileByPath / exportCurrentToPdf 接口以用于丰富扩展的功能
- 改进 扩展插件市场新增一个备用地址，以为连接补上GitHub的地区提供扩展市场服务
- 改进 扩展市场新增连接状态提示
---
扩展更新
新增PDF批量导出扩展（0.2.9版本支持）



## 更新 v0.2.8
- 新增：扩展插件的更新检测和热更新功能
- 改进：扩展市场的渲染逻辑
- 改进：去除不再需要的依赖/调试日志以优化性能和安装包大小



## 更新 v0.2.7
- 新增：所见即所得模式 Ctrl+H 查找替换
- 新增：弃用 WebView 自带“页面查找框”，统一由 JS 实现查找面板
- 修复：阅读（预览）模式下 Ctrl+F 结果计数翻倍的问题
- 修复：源码模式中查找替换循环到第一个结果后，反色光标高亮会消失的问题
- 修复：KaTeX 根号在预览层、SVG 导出以及另存为 PDF 时可能不显示的一系列问题
- 优化：自动更新下载链路，新增 ghfast.top 代理前缀并调整若干样式（包括侧栏 z-index 等）

## 更新 v0.2.6
- 修复: 修复阅读模式下Latex渲染丢失部分符号的问题
- 改进：现在mermaid也可以导出到word了


## 更新 v0.2.5
- 新增： Mermaid在阅读/所见模式中的缩放功能
- 新增： Mermaid单独导出为SVG
- 改进： 处理对话框数组返回，解决部分MacOS打开文件无法载入的问题
- 改进： MacOS注册原生菜单事件，确保系统菜单也能触发打开流程

## 更新 v0.2.4
- 新增： 开放一些API接口以用于AI扩展功能加强（光标插入/流式输入/选区替换）
- 新增： 扩展仓库增加排序/推荐样式
- 新增： 多重文档库支持
- 修复:  扩展按钮重启程序后未能注册导致按钮消失的问题


## 更新 v0.2.3
- 新增： 字体自定义支持
- 新增： 编辑/阅读/所见模式增加缩放功能（ctrl+滚轮）
- 修复： 文件和模式菜单依次点击时不弹出菜单项
- 修复:  MacOS打开文档只打开了程序未载入文档的问题
- 改进:  源码模式和阅读/所见模式采用一致的居中格式


## 更新 v0.2.2
- 修复: 改进部分主题CSS以适应深色系统主题
- 改进：启用全新图标

## 更新 v0.2.0
 - 新增：主题及背景色自定义/扩展接口
 - 新增：图床新增转换压缩，并提供开关和压缩质量设置
 - 修复：MacOS 路径转义不正确导致的打开文件未载入文件，只启动杆程序
 - 改进：为阅读模式添加背景色以和源码模式在视觉上区分。
 - 改进：图床上传改为webp格式，以适应于网络使用情况。
  




## 更新 v0.1.9
 - 新增: 文档库支持在不同子文件夹中拖拽文档变更位置
 - 新增：中文输入法中连续输入两个￥/¥ 自动映射为 $$（仅源码模式）
 - 改进：更新功能添加更新日志。
 - 改进: 更新自动安装失败后提供打开下载目录手动安装回退。



## 更新 v0.1.8
- 新增：支持另存为PDF
- 新增：支持另存为Docx、Wps（不支持Mermaid）
- 修复：代码区语言标识不再遮挡代码行
- 改进：移除不需要的依赖
- 改进：提升缓存利用率以改善性能
- 改进：独立 chunk 以提升性能


## 更新 v0.1.7
 - 改进: 所见模式中mermaid调整为全局渲染/双击图片编辑代码
 - 改进: 调整mermaid默认缩放
 - 修复: Ctrl+Z不能回退替换内容。
 - 修复：*标记补全逻辑
 - 修复: 所见模式中Ctrl+K超链接快捷键弹出窗口文本显示错误问题
 - 新增：删除标记~~的补全。（环抱补全只能使用英文输入法~）


## 更新 v0.1.6
- 修复：阅读→所见→使用“模式”菜单切回“阅读”时，界面错误显示为编辑的问题
- 修复：仅切到所见未编辑就切换模式仍提示未保存的问题（初始化/关闭所见V2导致的无差异置脏）
- 改进：所见模式支持撤销/重做（Ctrl+Z / Ctrl+Y）
- 改进：编辑及缩进模式支持 Tab段落缩进（模拟输入&emsp;&emsp;）
- 优化: 流畅感动画过渡，改进字体渲染。增加抗锯齿及一些CSS美化
- 新增：代办清单（TODO）支持，通过鼠标点击改变状态（仅阅读模式）
- 新增: 源码模式新增Ctrl+H查找替换，新增配对标记补全（自动/环绕/跳过/成对删除）
  - 自动补全：在源码模式输入 `(`、`[`、`{`、`"`、`'`、`` ` ``、`*`、`_` 等左侧标记时，自动插入右侧标记并将光标置于两者之间。*个别中文输入法中可能有兼容问题*
  - 环绕补全：选中文本后输入上述任一左侧标记，自动在选中文本前后添加配对标记，仅调整选区以便继续输入。*个别中文输入法中可能有兼容问题*
  - 跳过右侧：输入右侧标记时，若光标处已存在相同标记，直接右移光标避免重复。*个别中文输入法中可能有兼容问题*
  - 成对删除：Backspace 位于一对配对标记之间时，一次性删除成对标记。*个别中文输入法中可能有兼容问题*

## 更新 v0.1.5
- 隐藏所见模式中mermaid渲染错误提示，避免影响输入体验
- 为库/文件列表不同格式设置图标区分
- 新增Markdown目录大纲（所见和阅读模式）及PDF书签目录
- 修复未选择库后仍然显示未选择库目录的问题
- 恢复之前被设置隐藏的滚动条，并保持优雅简洁
- 标签页显示优化（优先推进，改动小、收益直观）
>  标题显示文件名；重名时附加父目录名 增加未保存标识* 窗口标题同步为“文件名 - 飞速MarkDown”，任务栏/切换时更易区分,悬浮标题显示完整路径


## 更新 v0.1.4
- 同步功能新增库根快照用于快速短路，避免无意义扫描和空目录无法同步
- 同步功能新增目录快照，以优化远端扫描逻辑，大幅提升扫描速度
- 修复阅读模式中Latex公式²渲染为错误的问题
- 更改所见模式中Latex公式为全局渲染
- 修复未保存文档直接关闭程序，不弹出保存提示的问题
- 修复阅读模式中代码块格式异常的问题
- 修复Linux图标不显示的问题


## 更新 v0.1.3
- 重构：完全重构所见模式，现在所见模式V2拥有更好体验
> 为保证编辑流畅性，Latex和Mermaid将以源码显示，只有在光标或者鼠标指针位置处于代码区的时候才会渲染。行内公式 $...$ 不内联渲染（便于稳定编辑）
- 修复：补上MACOS版本提供缺失的更新地址
- 更改：更灵活的（库）侧栏模式
- 更改：将单栏修改为多级菜单
- 新增：切换文档时弹窗保存提醒
- 新增：阅读模式快捷键Ctrl+R 所见模式快捷键Ctrl+W



## 更新 v0.1.2
- 修改扩展窗口及部分扩展的样式
- 增加同步逻辑的选择项，实时日志信息丰富
- 修改同步扫描逻辑提升扫描速度
- 重写部分同步逻辑，遇到本地删除文件将询问客户同步删除还是下载恢复
- 文档库新增新建/删除文件夹功能
- 修复打印文档只能打印可见范围的问题


## 更新 v0.1.1
- 新增扩展列表热更新功能

## 更新 v0.1.0-fix
- 暂时去掉同步功能中的删除判断，只做增量同步
- 大幅优化同步功能的哈希算法
- 增加同步日志显示和日志记录
> 使用0.1.0版本同步导致本地文件丢失的，可以使用该版本同步恢复。 同步功能仍未完善，请勿用于生产环境，做好数据备份

## 更新 v0.1.0
- 新增：webdav同步扩展 使用同步元数据管理，采用内容哈希对比，时间戳辅助判断。**该发布已经删除，这个版本会导致本地文件丢失**
> 同步功能正在测试调整阶段，务必做好数据备份。如有问题请提ISSUE。 首次同步会比较慢（计算哈希值）


## 更新 v.0.0.9-fix
- 新增：下载更新启动失败后提供手动打开方式作为后退
- 修复：所见模式上传了图片后编辑无法聚焦的问题

## 更新 v.0.0.9
- 新增：图片总是保存到本地。默认关闭
- 新增：复制渲染好的文章到编辑器时转译成markdown格式以保证格式不丢失。
- 新增：扩展功能，现在可以管理和安装扩展了 作者：[HansJack](https://github.com/TGU-HansJack)
- 调整：将新建按钮调整至最左侧，以符合操作习惯
- 优化: 极大的优化文档库打开速度

## 更新 v.0.0.8-fix
- 修复之前拼接错误的更新连接导致的自动关下载失败
- 新增几个备用的代理地址以免代理失效导致更新失败


## 更新 v.0.0.8
- 修复：未设置图床的时候从剪切板粘贴图片回退成base64
- 新增: 未设置图床时粘贴板粘贴图片时将写入本地images目录
[本地已存在的图片将以路径读取不写入images目录]
[未保存的文档粘贴图片将放到系统默认图片目录，失败则返回为base64]
**默认优先级**
  - 已启用并配置图床→直接上传并插入公网 URL（本地不保存）
  - 未启用/未配置图床→走本地落盘分支[已创建文档：同级 images；未创建文档：系统图片目录]
  - 若图床已开启但上传失败→回退到本地落盘分支作为兜底
  - 本地已存在的图片将以路径读取不写入images目录


## 更新 v.0.0.7
- 新增：文件库自定义排序
- 新增：文件库隐藏md/txt/pdf/markdown以外的文件
- 新增：更新检测和下载功能
- 优化：为mermaid图标增加缓存




## 更新 v0.0.6-fix
- 修复：所见模式编辑到最下方时，无法聚焦输入框的问题
- 优化:   所见模式滚动逻辑
- 已知：所见模式中如果存在视野内的mermaid 后续输入文字会导致界面闪烁

## 更新 v0.0.6
- 新增：阅读/编辑位置自动记忆，再打开之前编辑或阅读过的文件时，回自动返回上次退出的位置。
- 优化: 修改所见模式处理Latex和mermaid的逻辑，现在所见模式支持Latex和mermaid了
- 优化: 缩短代码区域的行距，以及其他显示效果优化

## 更新 v0.0.6-beta
- 新增：所见模式（暂不支持Latex和mermaid，输入latex和mermaid的时候建议先切换回普通模式）


## 更新 v0.0.5

- 新增：PDF预览支持
- 新增：PDF后缀关联
- 优化：首屏打开速度


## 更新 v0.0.4

- 新增：文档库新建/重命名/删除/移动操作
- 新增：图库一键开关，以方便切换成本地模式
- 重构：重新设计UI 增加文库图标
- **启用新的版本号，安装过老版本的需要卸载重装（不丢数据）**

## 更新 v0.0.3

- 新增：库功能 在侧栏显示库里所有文档
- 新增：剪切板图片直接粘贴
- 修复: 本图片不能渲染的问题
- 修复：连接无法跳转的问题


## 更新 v0.0.2

本次版本聚焦稳定性与细节体验优化，主要改动：

- 统一确认对话框为 Tauri 原生 `ask`（打开/新建/拖拽打开/关闭），
- 修复 未保存直接关闭不提示 的问题：
- 修复 插入链接弹窗两个输入框在部分尺寸下溢出的视觉问题
- 增强 文档拖拽体验：
- 增强 预览安全/显示：
- 增强 Mermaid 渲染流程与错误提示；代码高亮按需加载


## 更新 v0.0.1

- 新增 LaTeX（基于 KaTeX）渲染支持
- 新增 Mermaid 流程图/时序图等渲染支持
- 新增快捷键：Ctrl+B 加粗、Ctrl+I 斜体、Ctrl+K 插入链接
